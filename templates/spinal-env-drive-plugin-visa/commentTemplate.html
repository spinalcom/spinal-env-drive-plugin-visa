
<style>

    .close {
        width: 30px;
        float: right;
        color: #fff !important;
    }

    .messagePanel {
        padding: 20px;
        width: 400px;
        overflow: hidden;
    }

    .messageContainer {
        width:  100%;
        height: 600px;
        overflow: hidden;
        overflow-y: auto;
        margin-top: 20px;
        margin-bottom: 20px;
    }

    .textform {
        width: 100%;
        height: 50px;
    }

    .text {
        width: 80%;
        height: 100%;
        float: left;
    }

    .send {
        width: 18%;
        height: 100%;
        float: right;
    }

    .iconButton {
        width: 100%;
        height: 100%;
        text-align: center;
        padding-top: 41%;
    }

    .iconButton:hover {
        cursor: pointer;
    }

    .avatar-text {
        font-size: 12px;
        text-align: center;
        border-radius: 0px !important;
        padding-top: 5px;
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
    }

    .md-list-item-text {
        padding: 5px;
        border-radius: 5px;
        word-break: break-all;
    }

    .md-list-item-text p {
        color: #000000 !important;
    }

    .userMessage {
        background: #208cfb;
    }

    .notUserMessage {
        background: #e9e9e9;
    }

    .detail {
        width: 100%;
        font-size: 10px;
        margin-top: 10px;
        min-height: 15px;
        color: black;
        padding: 2px;
    }

    .detail .delete {
        float: right;
    }

    .detail .delete:hover {
        cursor: pointer;
    }

    .detail .date {
        float: left;
    }


</style>

<md-dialog class="messagePanel" aria-label="messagePanel">

    <span class="close" ng-click="cancel()">X</span>

    <md-list class="messageContainer" scroll-bottom>

        <md-list-item ng-if="messages.length > 0" class="md-3-line md-long-text" ng-repeat="message in messages">
            <div class="avatar-text md-avatar" title="{{message.user.username.get()}}">{{message.user.username.get().toUpperCase()}}</div>
            <div ng-class="[{userMessage : isUserMessage(message),notUserMessage : !isUserMessage(message)}, 'md-list-item-text']">
              <p>
                {{message.content.get()}}
              </p>
              
                <div class="detail">
                    <span class="date">{{message.date.get() | date}}</span>
                    <span ng-if="isUserMessage(message)"class="delete" ng-click="deleteMessage(message)">X</span>
                </div>
            </div>
            
        </md-list-item>

        <md-list-item ng-if="messages.length == 0">
            No Message
        </md-list-item>

    </md-list>

    <div class="textform">
        <div class="text">
            <md-input-container md-no-float class="md-block">
                <input autocomplete="off" autofocus ng-model="messageInfo.content" placeholder="message">
            </md-input-container>
        </div>
        <div class="send">
            <div class="iconButton" ng-click="addComment()">
                <i class="fa fa-paper-plane"></i>
            </div>
        </div>
    </div>
    
</md-dialog>